<!DOCTYPE html>
<html lang="en">
  
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Python functions vs. methods deep dive &middot; Tinkering</title>
    <meta name="description" content="Come for the Foo, stay for the Bar" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#aa0000">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">
    <link rel="alternate" type="application/atom+xml" title="RSS" href="https://tinkering.xyz/atom.xml">

    <style>html,body{background:#fffaf7;color:#2d2d2d;font:18px/1.5 -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"}a,a:visited{color:darkred;text-decoration:none}a:hover{text-decoration:underline}main{margin:auto;max-width:65ch;padding:0.8rem}pre{background:white;overflow:scroll;padding:1rem}td{border:1px solid #2d2d2d;padding:10px}img{height:auto;max-width:100%}.homepage-list{list-style:none;padding:1rem 0}.homepage-list li{align-items:center;display:flex;flex-wrap:wrap;justify-content:space-between;margin-bottom:10px}@media (max-width: 65ch){.homepage-list li a{width:100%}}code{font-size:90%}p>code,li>code{padding:.15em .25em;color:#bf616a;background-color:#e8e8e8;border-radius:3px}
</style>

    <meta property="og:site_name" content="Tinkering">
      <meta name="author" content="Zach Mitchell" />
      <meta property="og:title" content="Python functions vs. methods deep dive">
      <meta property="og:description" content="">
      <meta property="og:url" content="https://tinkering.xyz/python-function-vs-method/">
      <meta property="og:image" content="">

      <meta property="og:type" content="article" />
        <meta property="article:published_time" content="2020-11-15T00:00:00+00:00" />

      <link rel="prev" href="https://tinkering.xyz/lazy-grad-student/" />
      <link rel="next" href="https://tinkering.xyz/clojure-lazy-sequences/" />
    

  </head>
  

  <body>
    <main id="main" role="main">

      
      <header role="banner">
        <h3 style="margin-top:0;">
          <a href="https://tinkering.xyz" title="Home">Tinkering</a>
          <br /><small>Come for the Foo, stay for the Bar</small>
        </h3>
      </header>
      <hr />
      

      
<article>
  <h1>Python functions vs. methods deep dive</h1>

  
  <p style="font-size:90%;">Posted on <time datetime=" 2020-11-15T00:00:00+00:00">November 15, 2020</time></p>
  

  
  <div style="font-size:90%;">
    <p>Table of Contents:</p>
    <ul>
      
      <li>
        <a href="https://tinkering.xyz/python-function-vs-method/#functions">Functions</a>
        
      </li>
      
      <li>
        <a href="https://tinkering.xyz/python-function-vs-method/#when-is-a-function-not-a-function">When is a function not a function?</a>
        
      </li>
      
    </ul>
  </div>
  

  <p>This post will dig into the real differences between a method and a function in Python. You may not have a use for some of this information, but it will help you understand Python. The better you understand your tools, the more effectively you can use them. Also it's just fun to learn &quot;how Python do what it do.&quot;</p>
<p>Most of the information I'll cover here comes from the <a href="https://docs.python.org/3/reference/datamodel.html">Python data model</a>. I'll be referring to that document frequently, so let's call it PDM for short. My goal here is to take the some of the information in that document and make it crystal clear through a few short examples.</p>
<p>Unfortunately you're not able to link to many of the subsections of the PDM, so I'll just point you to the &quot;Callable types&quot; section for much of this.</p>
<h2 id="functions">Functions</h2>
<p>We'll begin with a humble function.</p>
<pre data-lang="python" style="background-color:#2b303b;color:#c0c5ce;" class="language-python "><code class="language-python" data-lang="python"><span style="color:#b48ead;">def </span><span style="color:#8fa1b3;">func</span><span>(</span><span style="color:#bf616a;">x</span><span>):
</span><span>    </span><span style="color:#b48ead;">pass
</span></code></pre>
<p>The PDM calls this a &quot;user-defined function&quot; in contrast to a &quot;built-in function&quot; like <code>len()</code>.</p>
<p>Remember that everything is an object in Python, and that includes functions. That means you can store custom attributes on functions just like you would any other object e.g. <code>func.foo = bar</code>. Python objects have two properties that will come in handy in the following discussion: an identity and a type. The identity of an object is what distinguishes two objects of the same type and value. Calling <code>id(x)</code> on the object <code>x</code> will return an integer that represents the identity of <code>x</code>. For CPython this integer is the memory address of <code>x</code>. The type of <code>x</code> can be inspected by calling <code>type(x)</code>.</p>
<p>Functions have a number of attributes that contain information about the function, most of which are writable. For example:</p>
<ul>
<li><code>__name__</code>, the name of the function</li>
<li><code>__module__</code>, the module that the function was defined in</li>
<li><code>__annotations__</code>, the function's type annotations</li>
<li><code>__doc__</code>, the function's docstring</li>
<li><code>__dict__</code>, a dictionary that holds <em>arbitrary function attributes</em> like <code>func.foo</code></li>
<li>and many more</li>
</ul>
<p>You can see this for yourself in the REPL:</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>&gt;&gt;&gt; def func(x):
</span><span>...     pass
</span><span>...
</span><span>&gt;&gt;&gt; func.__name__
</span><span>&#39;func&#39;
</span><span>&gt;&gt;&gt; id(func)
</span><span>4427942640
</span><span>&gt;&gt;&gt; type(func)
</span><span>&lt;class &#39;function&#39;&gt;
</span></code></pre>
<p>For my last trick, try this:</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>&gt;&gt;&gt; func.__doc__ = &quot;a user defined function called &#39;func&#39;&quot;
</span><span>&gt;&gt;&gt; help(func)
</span></code></pre>
<p>which should present you with the following:</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>Help on function func:
</span><span>
</span><span>func(x)
</span><span>    a user defined function called &#39;func&#39;
</span><span>(END)
</span></code></pre>
<p>Now let's make <code>func</code> a little more useful by making it display the identity and type of its argument:</p>
<pre data-lang="python" style="background-color:#2b303b;color:#c0c5ce;" class="language-python "><code class="language-python" data-lang="python"><span style="color:#b48ead;">def </span><span style="color:#8fa1b3;">func</span><span>(</span><span style="color:#bf616a;">x</span><span>):
</span><span>    </span><span style="color:#96b5b4;">print</span><span>(</span><span style="color:#b48ead;">f</span><span>&quot;</span><span style="color:#a3be8c;">id=</span><span>{</span><span style="color:#96b5b4;">id</span><span>(x)}&quot;)
</span><span>    </span><span style="color:#96b5b4;">print</span><span>(</span><span style="color:#b48ead;">f</span><span>&quot;</span><span style="color:#a3be8c;">type=</span><span>{</span><span style="color:#96b5b4;">type</span><span>(x)}&quot;)
</span></code></pre>
<p>This is what the output looks like:</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>&gt;&gt;&gt; func(5)
</span><span>id=4424743488
</span><span>type=&lt;class &#39;int&#39;&gt;
</span></code></pre>
<h2 id="when-is-a-function-not-a-function">When is a function not a function?</h2>
<p>Here's a question: when is a function not a function? Let's investigate by putting a function into a class via different means.</p>
<p>The first way is through a typical class definition.</p>
<pre data-lang="python" style="background-color:#2b303b;color:#c0c5ce;" class="language-python "><code class="language-python" data-lang="python"><span style="color:#b48ead;">class </span><span style="color:#ebcb8b;">MyClass</span><span style="color:#eff1f5;">:
</span><span>    </span><span style="color:#b48ead;">def </span><span style="color:#96b5b4;">__init__</span><span>(</span><span style="color:#bf616a;">self</span><span>):
</span><span>        </span><span style="color:#b48ead;">pass
</span><span>
</span><span>    </span><span style="color:#65737e;"># Same function definition as before,
</span><span>    </span><span style="color:#65737e;"># just a different name
</span><span>    </span><span style="color:#b48ead;">def </span><span style="color:#8fa1b3;">func_classdef</span><span>(</span><span style="color:#bf616a;">x</span><span>):
</span><span>        </span><span style="color:#96b5b4;">print</span><span>(</span><span style="color:#b48ead;">f</span><span>&quot;</span><span style="color:#a3be8c;">id=</span><span>{</span><span style="color:#96b5b4;">id</span><span>(x)}&quot;)
</span><span>        </span><span style="color:#96b5b4;">print</span><span>(</span><span style="color:#b48ead;">f</span><span>&quot;</span><span style="color:#a3be8c;">type=</span><span>{</span><span style="color:#96b5b4;">type</span><span>(x)}&quot;)
</span></code></pre>
<p>The second way is by assigning a function to an attribute of the class:</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>&gt;&gt;&gt; MyClass.func_classattr = func
</span></code></pre>
<p>Are <code>func_classdef</code> and <code>func_classattr</code> still <code>function</code>s? Let's find out!</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>&gt;&gt;&gt; type(MyClass.func_classdef)
</span><span>&lt;class &#39;function&#39;&gt;
</span><span>&gt;&gt;&gt; type(MyClass.func_classattr)
</span><span>&lt;class &#39;function&#39;&gt;
</span></code></pre>
<p>The answer is yes, they're both still functions.</p>
<p>Now let's make an instance of <code>MyClass</code> and inspect the functions again.</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>&gt;&gt;&gt; inst = MyClass()
</span><span>&gt;&gt;&gt; type(inst.func_classdef)
</span><span>&lt;class &#39;method&#39;&gt;
</span><span>&gt;&gt;&gt; type(inst.func_classattr)
</span><span>&lt;class &#39;method&#39;&gt;
</span></code></pre>
<p>Ok, our functions are <code>method</code>s rather than <code>function</code>s when accessed as attributes of an instance. What if we assign the function to a new attribute of the instance?</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>&gt;&gt;&gt; inst.func_instattr = func
</span><span>&gt;&gt;&gt; type(inst.func_instattr)
</span><span>&lt;class &#39;function&#39;&gt;
</span></code></pre>
<p>Huh, so it's back to being a <code>function</code>. The difference is that <code>func_classattr</code> and <code>func_classdef</code> are both attributes of the class that <code>inst</code> is an instance of, whereas <code>func_instattr</code> is not.</p>
<p>Let's dig into why this difference is what makes the difference between a <code>function</code> and a <code>method</code>.</p>

</article>


      
      <footer role="contentinfo">
        <hr />
        
        <nav style="margin-bottom:1rem;" role="navigation">
          
            <a href="/">Home</a>
            
              <span>&middot;</span>
            
          
            <a href="https://github.com/zmitchell">GitHub</a>
            
              <span>&middot;</span>
            
          
            <a href="/about/">About</a>
            
          
        </nav>
        
        
        <small>
          
          
        </small>
        
      </footer>
      

    </main>
    
    
  </body>
</html>

